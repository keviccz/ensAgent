name: PY
channels:
  - pytorch
  - conda-forge
  - defaults
dependencies:
  # Core
  - python=3.9
  - pip
  - setuptools
  - wheel
  - git

  # R bridge for mclust used by SEDR/GraphST/STAGATE wrappers
  - r-base=4.1.*
  - rpy2=3.5.*
  - r-mclust

  # Torch stack (CPU)
  - pytorch=2.0.*
  - cpuonly

  # Scientific stack required by the three PY tools
  - numpy=1.24.*
  - pandas=2.0.*
  - scipy>=1.10,<1.12
  - scikit-learn=1.2.*
  - anndata=0.9.1
  - scanpy=1.9.3

  # Runtime utilities
  - pyyaml
  - requests
  - tqdm

  - pip:
      - scikit-misc
      - pot
      - --find-links https://data.pyg.org/whl/torch-2.0.1+cpu.html
      - torch-scatter
      - torch-sparse
      - torch-geometric
      # Three target PY method packages
      - GraphST==1.1.1
      - git+https://github.com/JinmiaoChenLab/SEDR.git@master
      - git+https://github.com/QIFEIDKN/STAGATE_pyG.git@main
